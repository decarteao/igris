dnf install cmake git -y --nogpgcheck

git clone https://github.com/ambrop72/badvpn.git

cd badvpn

mkdir build

cd build

cmake .. -DBUILD_NOTHING_BY_DEFAULT=1 -DBUILD_UDPGW=1 

make

make install

# Após isso, o binário badvpn-udpgw estará instalado em /usr/local/bin/

nano /etc/systemd/system/badvpn.service

```
[Unit]
Description=BadVPN UDP Gateway
After=network.target

[Service]
# O comando abaixo roda na porta 7300 e escuta apenas localmente (seguro para túneis SSH)
ExecStart=/usr/local/bin/badvpn-udpgw --listen-addr 127.0.0.1:7300 --loglevel warning

# Reinicia automaticamente se o processo morrer
Restart=always
RestartSec=3

# Usuário (opcional, mas recomendado não rodar como root se possível, 
# mas geralmente roda-se como root ou nobody em setups simples)
User=root

[Install]
WantedBy=multi-user.target
```

# Recarregar daemon para ler o novo arquivo
sudo systemctl daemon-reload

# Habilitar para iniciar junto com o sistema (boot)
sudo systemctl enable badvpn

# Iniciar o serviço agora
sudo systemctl start badvpn

systemctl status badvpn



